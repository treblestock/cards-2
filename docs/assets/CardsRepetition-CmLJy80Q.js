import{d as m,o as i,c as h,a as C,t as T,_ as S,l as W,j as v,f as r,m as $,F as k,r as y,n as X,b as j,h as N}from"./index-B_DcgIix.js";import{u as G}from"./cards-NG4ub3Ya.js";const H={class:"card"},Y={class:"upside"},K={class:"downside"},U=m({__name:"Card",props:{upside:{},downside:{}},setup(s){return(t,c)=>(i(),h("div",H,[C("div",Y,T(t.upside),1),C("div",K,T(t.downside),1)]))}}),z=S(U,[["__scopeId","data-v-f667b138"]]);function J(s){return Math.floor(Math.random()*(s+1))}function Q(s){const t=s.slice(),c=s.length;return t.forEach((p,f)=>{const l=J(c);[t[f],t[l]]=[t[l],t[f]]}),t}const V={class:"cards-iterator"},Z={class:"current-card-field"},d=200,_=100,q=5,ee="#00AC6B",te="#FF6F00",se="#3BA3D0",ae=m({__name:"Repetition",props:{cardSetName:{}},setup(s){X(e=>({"0d970609":A.value,"6949cfea":I.value,"25188c0f":x.value,"6c3ad329":L.value}));const t=j(),c=s,p=W(),l=G().cardSets[c.cardSetName]||{},g=Object.entries(l),a=v(Q(g.filter(Boolean))),D=r(()=>[a.value[0],a.value[1]]);function E(){a.value.shift(),p.incrementCorrectAnswerStats()}function w(){if(!a.value.length)throw new Error(`
    CardsIterator.vue: tried to answer when there no cards to repeat
  `);a.value.push(a.value.shift())}$(a.value,()=>{a.value.length<=0&&t.push({name:"cardSetsList"})});const P=r(()=>o.value/d),R=v(0),o=r({get(){return R.value},set(e){e>d&&(e=d),e<-d&&(e=-d),R.value=e}}),L=r(()=>q*P.value+"deg"),x=r(()=>-o.value+"px"),A=r(()=>o.value>_?ee:o.value<-_?te:se),I=r(()=>`1px 1px 5px .2px ${A.value}`),u=v(null);function B(e){u.value=e.touches[0].clientY,console.log(u.value);const n=e.target.closest(".card");n.classList.add("_with-shadow"),n.classList.add("_active")}function M(e){if(!u.value)return;const n=u.value-e.touches[0].clientY;o.value=n}function b(e){o.value>=_&&E(),o.value<=-_&&w(),e.target.closest(".card").classList.remove("_active"),u.value=null,o.value=0}return(e,n)=>(i(),h("div",V,[C("div",Z,[(i(!0),h(k,null,y(D.value,([O,F])=>(i(),N(z,{class:"card",key:O,upside:O,downside:F,onTouchstart:B,onTouchmove:M,onTouchend:b},null,8,["upside","downside"]))),128))])]))}}),oe=S(ae,[["__scopeId","data-v-195b46b9"]]),re=m({__name:"CardsRepetition",props:{cardSetName:{}},setup(s){const t=s;return(c,p)=>(i(),N(oe,{cardSetName:t.cardSetName},null,8,["cardSetName"]))}}),ue=S(re,[["__scopeId","data-v-2bda42fb"]]);export{ue as default};
