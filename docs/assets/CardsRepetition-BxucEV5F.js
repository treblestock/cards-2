import{d as h,o as i,c as C,a as m,t as N,_ as S,l as W,j as v,f as r,m as $,F as k,r as y,n as X,b as j,h as g}from"./index-BWaTl5lP.js";import{u as G}from"./cards-BZkb55Hw.js";const Y={class:"card"},H={class:"upside"},K={class:"downside"},U=h({__name:"Card",props:{upside:{},downside:{}},setup(s){return(e,n)=>(i(),C("div",Y,[m("div",H,N(e.upside),1),m("div",K,N(e.downside),1)]))}}),z=S(U,[["__scopeId","data-v-f667b138"]]);function J(s){return Math.floor(Math.random()*(s+1))}function Q(s){const e=s.slice(),n=s.length;return e.forEach((p,f)=>{const d=J(n);[e[f],e[d]]=[e[d],e[f]]}),e}const V={class:"cards-iterator"},Z={class:"current-card-field"},u=200,_=100,q=5,ee="#00AC6B",te="#FF6F00",se="#3BA3D0",ae=h({__name:"Repetition",props:{cardSetName:{}},setup(s){X(t=>({"0a8c4090":A.value,e556f85c:B.value,"0e4a4f96":I.value,"2ffea87c":x.value}));const e=j(),n=s,p=W(),d=G().cardSets[n.cardSetName]||{},D=Object.entries(d),a=v(Q(D)),P=r(()=>[a.value[0],a.value[1]].filter(Boolean));function w(){a.value.shift(),p.incrementCorrectAnswerStats()}function E(){if(!a.value.length)throw new Error(`
    CardsIterator.vue: tried to answer when there no cards to repeat
  `);a.value.push(a.value.shift())}$(a.value,()=>{a.value.length<=0&&e.push({name:"cardSetsList"})});const T=r(()=>o.value/u),R=v(0),o=r({get(){return R.value},set(t){t>u&&(t=u),t<-u&&(t=-u),R.value=t}}),x=r(()=>q*T.value+"deg"),I=r(()=>-o.value+"px"),A=r(()=>o.value>_?ee:o.value<-_?te:se),B=r(()=>`1px 1px 5px .2px ${A.value}`),l=v(null);function L(t){l.value=t.clientY;const c=t.target.closest(".card");c.classList.add("_with-shadow"),c.classList.toggle("_active")}function F(t){if(!l.value)return;const c=l.value-t.clientY;o.value=c}function b(t){o.value>=_&&w(),o.value<=-_&&E(),l.value=null,o.value=0}return(t,c)=>(i(),C("div",V,[m("div",Z,[(i(!0),C(k,null,y(P.value,([O,M])=>(i(),g(z,{class:"card",key:O,upside:O,downside:M,onPointerdown:L,onPointermove:F,onPointerup:b},null,8,["upside","downside"]))),128))])]))}}),oe=S(ae,[["__scopeId","data-v-0f9afbc0"]]),re=h({__name:"CardsRepetition",props:{cardSetName:{}},setup(s){const e=s;return(n,p)=>(i(),g(oe,{cardSetName:e.cardSetName},null,8,["cardSetName"]))}}),ue=S(re,[["__scopeId","data-v-2bda42fb"]]);export{ue as default};
