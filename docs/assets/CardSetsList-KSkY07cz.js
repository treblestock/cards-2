import{u as g}from"./cards-BZkb55Hw.js";import{d as l,o as c,c as p,a as _,u as f,_ as m,b,e as A,f as I,F as h,r as v,g as L,h as k,w as E,i as w,t as x}from"./index-BWaTl5lP.js";const R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACYSURBVHgB7dY7CsJQFEXR46dzDpLB2YutDkIQB+B0nEIaM5N4xRQhRcLL54QHe8EhD9Ls8koAgInOsTJ2VUY+sbr5zm6rDBHtQrQL0S5EuxDtkmX0ZuD/LXZSuqL1rpTuHntopN95Wa+wsi9qr37P2EXpita7UrqXVsA93UW0C9EuRLsQ7UK0S5bROy3jEDvqfxO/BQAY6wsXky02PdV3IwAAAABJRU5ErkJggg==",U=["src"],y=l({__name:"CreateSetButton",emits:["create:set"],setup(i,{emit:e}){const t=e;return(a,s)=>(c(),p("button",{class:"action-toolbar-icon imga",onClick:s[0]||(s[0]=o=>t("create:set"))},[_("img",{src:f(R),alt:""},null,8,U)]))}}),Q=m(y,[["__scopeId","data-v-041072b1"]]),N="/cards-2/assets/import-7N8fBdug.png",X=["src"],D=l({__name:"ImportSetButton",emits:["import:set"],setup(i,{emit:e}){const t=e;return(a,s)=>(c(),p("button",{class:"action-toolbar-icon imga",onClick:s[0]||(s[0]=o=>t("import:set"))},[_("img",{src:f(N),alt:""},null,8,X)]))}}),V=m(D,[["__scopeId","data-v-1515ffbd"]]);function Y({onload:i,onerror:e}){const t=document.createElement("input");t.type="file",t.multiple=!0,t.style.display="none";function a(s){const o=s.target;if(!o.files)return n();const d=Array.from(o.files);function n(){document.body.removeChild(o)}Promise.all(d.map(u=>new Promise(C=>{const S=u.name,r=new FileReader;r.readAsText(u),r.onload=()=>{const B=r.result;i(S,B),C()},r.onerror=()=>(e&&e(r.error),r.error)}))).finally(n)}t.addEventListener("change",a),document.body.appendChild(t),t.click()}const $={class:"action-toolbar"},T=l({__name:"ActionToolbar",setup(i){const e=g();function t(){Y({onload(o,d){const n=o.split(".")[0],u=JSON.parse(d);e.createCardSet(n,u)}})}const a=b();function s(){a.push({name:"newCardSetForm"})}return(o,d)=>(c(),p("div",$,[A(V,{class:"action-toolbar-icon","onImport:set":t}),A(Q,{class:"action-toolbar-icon","onCreate:set":s})]))}}),F=m(T,[["__scopeId","data-v-5de5ffc5"]]),J={class:"page"},O={class:"card-sets"},P=l({__name:"CardSetsList",setup(i){const e=g(),t=I(()=>e.cardSets);return(a,s)=>{const o=L("AppLink");return c(),p("div",J,[_("div",O,[(c(!0),p(h,null,v(f(t),(d,n)=>(c(),k(o,{class:"card-set-widget",key:n,to:{name:"repetition",params:{cardSetName:n}}},{default:E(()=>[w(x(n),1)]),_:2},1032,["to"]))),128))]),A(F,{class:"action-toolbar"})])}}}),K=m(P,[["__scopeId","data-v-8a7fc7e8"]]);export{K as default};
